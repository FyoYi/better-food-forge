# Better Food (Forge)

Better Food 致力于为 Minecraft 带来沉浸式、高性能的食物系统。
我们不仅重构了底层的腐烂机制，更致力于建立一套包含“保鲜”、“冷藏解冻”以及“无界面物理烹饪”的完整美食生态。

## 核心特性

### 1. 基于时间戳的腐烂系统
摒弃了传统的“每刻扣耐久”方案，采用 NBT 记录绝对过期时间戳。
- 零卡顿：不需要每秒更新物品 NBT，极大降低服务器性能开销。
- 无鬼畜：手持食物时不再会有烦人的上下抖动动画。
- 全场景覆盖：支持玩家背包、打开的容器、地面掉落物以及关闭的箱子（基于区块扫描）中的食物腐烂。

### 2. 智能堆叠与交互
解决了不同新鲜度食材无法堆叠的难题。
- 左键：保持原版逻辑。如果新鲜度不同，执行交换操作，方便整理。
- 右键：智能合并。右键点击同类食物，会将手中的食材放入 1 个，并根据数量加权平均计算新的保质期。支持快速连续右键归拢食材。

### 3. 可视化 UI
- 耐久条显示：利用物品栏耐久条位置显示剩余新鲜度（黑底彩条）。
- 详细提示：鼠标悬停显示总保质期及剩余时间倒计时（随时间从绿变红）。
- 无限保鲜支持：支持配置保质期为 -1，物品将显示金色的“永久保鲜”字样且不再腐烂。

### 4. 高度可配置
- 数据包支持：通过 JSON 文件定义任意食物的保质期，支持热重载。
- 游戏内配置：提供可视化菜单，无需修改文件即可快速设置手中物品的保质期。
- 用户覆盖层：玩家通过指令修改的配置会持久化保存至本地文件，优先级最高。

我们正在积极开发以下内容：

### 1. 动态状态与反馈
- 动态材质：食物图标会随新鲜度变化（新鲜 -> 变色 -> 腐烂/发霉）。
- 食用反馈：低新鲜度食物回复量降低，并伴随反胃、中毒等 Debuff。

### 2. 保鲜与冷藏系统
- 双层冰箱：
  - 能源：需要红石信号驱动 + 冰块作为消耗性燃料。
  - 上层（冷藏室）：保质期延长 5 倍。
  - 下层（冷冻室）：保质期延长 20 倍，但会积累“寒冰值”。
  - 解冻机制：冷冻室取出的食物模型会结霜，无法直接食用或烹饪，需等待寒冰值归零。
- 熏肉架：通过烟熏工艺制作长效保存的干粮。

### 3. 沉浸式无界面烹饪
这将是本模组的核心玩法升级，彻底摒弃 GUI 界面。
- 物理厨具：放置在世界中的锅、煎锅。
- 交互式烹饪：将食材直接扔入或放入锅中。
- 手动操作：使用铲子右键进行翻炒。
- 视觉判断：没有进度条，玩家需观察食材颜色的变化。
- 评分系统：成品质量取决于食材新鲜度加上玩家对火候的把控。

## 指令说明

/betterfood menu - 打开配置面板（推荐）
/betterfood set <物品> <分钟> - 自定义保质期
/betterfood decay <true|false> - 腐烂总开关
/betterfood pause <true|false> - 暂停计时器
/betterfood reload - 重载所有配置文件
